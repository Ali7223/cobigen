<?xml version="1.0" encoding="UTF-8"?>
<contextConfiguration xmlns="http://capgemini.com" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  version="2.0">
  <triggers>
    <trigger id="rf_persistenceEntity" type="java" templateFolder="rf_persistenceEntity_templates">
      <containerMatcher type="package" value="(.+)\.persistence\.([^\.]+)\.entity"/>
      <matcher type="fqn" value="(.+)\.persistence\.([^\.]+)\.entity\.([^\.]+)">
        <variableAssignment type="regex" key="rootPackage" value="1"/>
        <variableAssignment type="regex" key="component" value="2"/>
        <variableAssignment type="regex" key="pojoName" value="3"/>
      </matcher>
    </trigger>
    <trigger id="oasp_persistenceEntity" type="java" templateFolder="oasp_persistenceEntity_templates">
      <containerMatcher type="package" value="((.+\.)?([^\.]+))\.([^\.]+)\.dataaccess\.api"/>
      <matcher type="fqn" value="((.+\.)?([^\.]+))\.([^\.]+)\.dataaccess\.api\.([^\.]+)Entity">
        <variableAssignment type="regex" key="rootPackage" value="1"/>
        <variableAssignment type="regex" key="domain" value="3"/>
        <variableAssignment type="regex" key="component" value="4"/>
        <variableAssignment type="regex" key="entityName" value="5"/>
      </matcher>
    </trigger>
    <trigger id="rf_testdataFramework" type="java" templateFolder="rf_testdata_framework">
      <containerMatcher type="package" value=".+\.(service|core|batch|persistence)\.[^\.]+\.(.+\.)?[^\.]+"/>
      <matcher type="fqn" value="(.+)\.(service|core|batch|persistence)\.(([^\.]+)\.(.+)?)\.([^\.]+)">
        <variableAssignment type="regex" key="rootPackage" value="1"/>
        <variableAssignment type="regex" key="component" value="4"/>
        <variableAssignment type="regex" key="pojoName" value="6"/>
        <variableAssignment type="regex" key="subPackage" value="3"/>
      </matcher>
      <matcher type="expression" value="instanceof java.lang.Enum" accumulationType="NOT">
      </matcher>
      <matcher type="expression" value="isAbstract" accumulationType="NOT">
      </matcher>
    </trigger>
    <trigger id="oasp_testdataFramework" type="java" templateFolder="oasp_testdata_framework">
      <containerMatcher type="package" value="((.+\.)?([^\.]+))\.([^\.]+)\.dataaccess\.api"/>
      <matcher type="fqn" value="((.+\.)?([^\.]+))\.([^\.]+)\.dataaccess\.api\.([^\.]+Entity)">
        <variableAssignment type="regex" key="rootPackage" value="1"/>
        <variableAssignment type="regex" key="domain" value="3"/>
        <variableAssignment type="regex" key="component" value="4"/>
        <variableAssignment type="regex" key="pojoName" value="5"/>
      </matcher>
      <matcher type="fqn" value="((.+\.)?([^\.]+))\.([^\.]+)\.logic\.api\.to\.([^\.]+[E|C]to)">
        <variableAssignment type="regex" key="rootPackage" value="1"/>
        <variableAssignment type="regex" key="domain" value="3"/>
        <variableAssignment type="regex" key="component" value="4"/>
        <variableAssignment type="regex" key="pojoName" value="5"/>
      </matcher>
      <matcher type="expression" value="instanceof java.lang.Enum" accumulationType="NOT">
        </matcher>
        <matcher type="expression" value="isAbstract" accumulationType="NOT">
        </matcher>
    </trigger>
    <trigger id="rf_testDocumentation" type="java" templateFolder="rf_testDocumentation">
      <containerMatcher type="package" value=".+\.(systemtest|awltest|komptest|kompinttest)"
        retrieveObjectsRecursively="true"/>
      <containerMatcher type="package" value=".+\.testfaelle" retrieveObjectsRecursively="true"/>
      <matcher type="fqn" value=".+\.(systemtest|awltest|komptest|kompinttest)\.([^\.]+)\.([^\.]+)\.([^\.]+\.)*([^\.]+)">
        <variableAssignment type="regex" key="category" value="1"/>
        <variableAssignment type="regex" key="bereich" value="2"/>
        <variableAssignment type="regex" key="unterbereich" value="3"/>
        <variableAssignment type="regex" key="testname" value="5"/>
      </matcher>
    </trigger>
    <trigger id="oasp_constants_permission_constants" type="xml" templateFolder="oasp_constants/permission_constants">
      <matcher type="nodename" value="access-control-schema">
        <variableAssignment type="constant" key="rootPackage" value="io.oasp.gastronomy.restaurant"/>
      </matcher>
    </trigger>
    <trigger id="oasp_constants_named_queries" type="xml" templateFolder="oasp_constants/named_queries">
      <matcher type="nodename" value="entity-mappings">
        <variableAssignment type="constant" key="rootPackage" value="io.oasp.gastronomy.restaurant"/>
      </matcher>
    </trigger>
  </triggers>
</contextConfiguration>
